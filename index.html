<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "TA_API_KEY",
  authDomain: "TA_AUTH_DOMAIN",
  projectId: "gc-digital-93913",
  storageBucket: "TA_STORAGE_BUCKET",
  messagingSenderId: "TA_MESSAGING_ID",
  appId: "TA_APP_ID"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

// ðŸ”‘ ID DU USER (celui de Firestore)
const userId = "UQSs6eD3pdzVKemkNINS";

async function checkAccess() {
  const ref = doc(db, "users", userId);
  const snap = await getDoc(ref);

  const paywall = document.getElementById("paywall");
  const formation = document.getElementById("formation");

  if (snap.exists() && snap.data().isPaid === true) {
    paywall.style.display = "none";
    formation.style.display = "block";
    updateDashboard();
  } else {
    paywall.style.display = "block";
    formation.style.display = "none";
  }
}

checkAccess();
</script>
