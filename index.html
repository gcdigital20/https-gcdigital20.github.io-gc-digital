<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>GC.Digital</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">

  <style>
    body { margin:0; font-family:Inter, sans-serif; background:#fff; color:#000; }
    header { padding:80px 20px; text-align:center; border-bottom:1px solid #eee; }
    h1 { font-family:'Playfair Display', serif; font-size:56px; margin:0; }
    p { max-width:700px; margin:20px auto; color:#555; }
    .container { max-width:1000px; margin:60px auto; padding:0 20px; }
    .chapter { margin-bottom:80px; }
    .chapter h2 { font-family:'Playfair Display', serif; font-size:36px; }
    .module { border:1px solid #e5e5e5; padding:24px; margin-top:20px; }
    .progress { height:6px; background:#eee; margin-top:10px; }
    .progress div { height:6px; background:#000; width:0%; }
    .locked { opacity:0.4; pointer-events:none; }
    .btn { margin-top:30px; padding:14px 28px; border:none; background:#000; color:#fff; cursor:pointer; }
    .dashboard { margin-top:15px; font-size:14px; color:#666; }
  </style>
</head>

<body>

<header>
  <h1>GC.Digital</h1>
  <p>La formation GC.Digital est faite pour que les d√©butants qui se sentent un peu perdus. La formation est simple et claire pour passer √† l'action.</p>
  <button class="btn" onclick="pay()">Acc√©der √† la formation</button>
</header>

<div class="container" id="content" style="display:none">

  <div class="chapter" id="chap1">
    <h2>Chapitre 1 ‚Äì Les fondations</h2>

    <div class="module">Module 1 ‚Äì Les bases du marketing digital
      <div class="dashboard" id="t1">Temps vid√©o : 0s</div>
      <div class="progress"><div id="p1"></div></div>
    </div>

    <div class="module">Module 2 ‚Äì Les bases des r√©seaux sociaux
      <div class="dashboard" id="t2">Temps vid√©o : 0s</div>
      <div class="progress"><div id="p2"></div></div>
    </div>

    <div class="module">Module 3 ‚Äì Cr√©ation de contenu efficace
      <div class="dashboard" id="t3">Temps vid√©o : 0s</div>
      <div class="progress"><div id="p3"></div></div>
    </div>

    <div class="module">Module 4 ‚Äì Lancer sa premi√®re strat√©gie
      <div class="dashboard" id="t4">Temps vid√©o : 0s</div>
      <div class="progress"><div id="p4"></div></div>
    </div>

    <button class="btn" onclick="finishChap1()">Terminer le chapitre 1 (+25% XP)</button>
    <div class="dashboard" id="xp">Exp√©rience : 0%</div>
  </div>

  <div class="chapter locked" id="chap2">
    <h2>Chapitre 2 ‚Äì Strat√©gie & Conversion</h2>
    <div class="module">Module 5 ‚Äì Strat√©gie digitale claire et rentable</div>
    <div class="module">Module 6 ‚Äì Contenu qui attire et positionne</div>
    <div class="module">Module 7 ‚Äì G√©n√©rer du trafic qualifi√©</div>
    <div class="module">Module 8 ‚Äì Transformer l'audience en client</div>
  </div>

</div>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

<script>
  const firebaseConfig = {
    apiKey: "AIzaSyDhTM5P1OngbZtdAj2lSgesShhoBjXhNsY",
    authDomain: "gc-digital-93913.firebaseapp.com",
    projectId: "gc-digital-93913",
    storageBucket: "gc-digital-93913.firebasestorage.app",
    messagingSenderId: "810132792036",
    appId: "1:810132792036:web:3bb4859f8d045163df82f1"
  };

  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const db = firebase.firestore();
</script>


<!-- üîê ACC√àS PAYANT -->
<script>
auth.onAuthStateChanged(async (user) => {
  if (!user) {
    document.getElementById("content").style.display = "none";
    return;
  }

  const doc = await db.collection("users").doc(user.uid).get();

  if (doc.exists && doc.data().isPaid === true) {
    document.getElementById("content").style.display = "block";
  } else {
    document.getElementById("content").style.display = "none";
    alert("Acc√®s r√©serv√© aux membres GC.Digital");
  }
});
</script>


<!-- üìä XP & TIMER (TON CODE, GARD√â) -->
<script>
  let xp = 0;
  let time = [0,0,0,0];

  function finishChap1() {
    xp = 25;
    document.getElementById('xp').innerText = 'Exp√©rience : ' + xp + '%';
    document.getElementById('chap2').classList.remove('locked');
  }

  setInterval(() => {
    for(let i=0;i<4;i++){
      time[i]++;
      document.getElementById('t'+(i+1)).innerText = 'Temps vid√©o : '+time[i]+'s';
      document.getElementById('p'+(i+1)).style.width = (time[i]%100)+'%';
    }
  },1000);
</script>

</body>
</html>
